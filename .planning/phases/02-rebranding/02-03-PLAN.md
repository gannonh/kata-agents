---
phase: 02-rebranding
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/electron/src/renderer/assets/craft_logo_c.svg
  - apps/electron/src/renderer/components/icons/CraftAgentsSymbol.tsx
  - apps/electron/src/renderer/components/icons/CraftAppIcon.tsx
  - apps/electron/src/renderer/components/icons/CraftAgentsLogo.tsx
  - apps/electron/src/renderer/components/SplashScreen.tsx
  - apps/electron/src/renderer/components/onboarding/WelcomeStep.tsx
  - apps/electron/src/renderer/components/onboarding/CompletionStep.tsx
  - apps/electron/src/renderer/components/onboarding/ReauthScreen.tsx
  - apps/electron/src/renderer/components/AppMenu.tsx
  - apps/electron/src/renderer/playground/PlaygroundApp.tsx
  - apps/electron/src/renderer/playground/registry/icons.tsx
  - packages/shared/src/branding.ts
autonomous: true

must_haves:
  truths:
    - "Splash screen shows Kata mark (not Craft C logo)"
    - "App menu shows Kata icon"
    - "Onboarding screens show Kata branding"
    - "No 'Craft' references visible in UI components"
  artifacts:
    - path: "apps/electron/src/renderer/assets/kata_mark.svg"
      provides: "In-app Kata mark SVG"
      min_lines: 1
    - path: "apps/electron/src/renderer/components/icons/KataSymbol.tsx"
      provides: "Kata symbol React component"
      exports: ["KataSymbol"]
    - path: "packages/shared/src/branding.ts"
      provides: "Branding constants with Kata identity"
      contains: "KATA"
  key_links:
    - from: "assets/brand/mark.svg"
      to: "apps/electron/src/renderer/assets/kata_mark.svg"
      via: "Copy"
      pattern: "N/A (file copy)"
    - from: "apps/electron/src/renderer/assets/kata_mark.svg"
      to: "apps/electron/src/renderer/components/icons/KataSymbol.tsx"
      via: "import"
      pattern: "import.*kata_mark\\.svg"
---

<objective>
Replace all in-app Craft logos, symbols, and React icon components with Kata branding. Rename components from Craft* to Kata*.

Purpose: Ensures the application UI displays Kata identity throughout all screens including splash, onboarding, menus, and any place the logo appears.

Output: Renamed and updated React components displaying Kata mark, with no Craft logos visible anywhere in the app.
</objective>

<execution_context>
<!-- Executor agent has built-in instructions for plan execution and summary creation -->
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-rebranding/02-RESEARCH.md

@apps/electron/src/renderer/components/icons/CraftAgentsSymbol.tsx
@apps/electron/src/renderer/components/SplashScreen.tsx
@packages/shared/src/branding.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace SVG asset and rename icon components</name>
  <files>
    apps/electron/src/renderer/assets/craft_logo_c.svg
    apps/electron/src/renderer/components/icons/CraftAgentsSymbol.tsx
    apps/electron/src/renderer/components/icons/CraftAppIcon.tsx
    apps/electron/src/renderer/components/icons/CraftAgentsLogo.tsx
  </files>
  <action>
1. Replace the SVG asset:
   ```bash
   # Remove old Craft logo
   rm apps/electron/src/renderer/assets/craft_logo_c.svg

   # Copy Kata mark
   cp assets/brand/mark.svg apps/electron/src/renderer/assets/kata_mark.svg
   ```

2. Rename and update CraftAgentsSymbol.tsx -> KataSymbol.tsx:
   ```typescript
   import iconSvg from "@/assets/kata_mark.svg"

   interface KataSymbolProps {
     className?: string
   }

   /**
    * Kata symbol - the app icon mark
    */
   export function KataSymbol({ className }: KataSymbolProps) {
     return (
       <img
         src={iconSvg}
         alt=""
         className={className}
       />
     )
   }
   ```

   Then rename the file:
   ```bash
   mv apps/electron/src/renderer/components/icons/CraftAgentsSymbol.tsx \
      apps/electron/src/renderer/components/icons/KataSymbol.tsx
   ```

3. Rename and update CraftAppIcon.tsx -> KataAppIcon.tsx:
   - Update to import kata_mark.svg
   - Rename component to KataAppIcon
   - Rename file

4. Update or remove CraftAgentsLogo.tsx:
   This is a pixel-art "CRAFT" wordmark. Options:
   - Option A: Remove if not used anywhere critical
   - Option B: Replace with a simple Kata text or remove the pixel art

   Check usage first:
   ```bash
   grep -r "CraftAgentsLogo" apps/electron/src/renderer/
   ```

   If used minimally, replace with a simple component or remove.
  </action>
  <verify>
ls apps/electron/src/renderer/assets/kata_mark.svg && echo "SVG: OK"
ls apps/electron/src/renderer/components/icons/KataSymbol.tsx && echo "KataSymbol: OK"
grep -r "craft_logo_c" apps/electron/src/renderer/ || echo "No craft_logo_c references: OK"
  </verify>
  <done>
SVG asset replaced with kata_mark.svg, icon components renamed from Craft* to Kata*
  </done>
</task>

<task type="auto">
  <name>Task 2: Update all component imports throughout renderer</name>
  <files>
    apps/electron/src/renderer/components/SplashScreen.tsx
    apps/electron/src/renderer/components/onboarding/WelcomeStep.tsx
    apps/electron/src/renderer/components/onboarding/CompletionStep.tsx
    apps/electron/src/renderer/components/onboarding/ReauthScreen.tsx
    apps/electron/src/renderer/components/AppMenu.tsx
    apps/electron/src/renderer/playground/PlaygroundApp.tsx
    apps/electron/src/renderer/playground/registry/icons.tsx
  </files>
  <action>
Update imports in all files that reference the renamed components:

1. Find all files importing Craft components:
   ```bash
   grep -rl "CraftAgentsSymbol\|CraftAppIcon\|CraftAgentsLogo" apps/electron/src/renderer/
   ```

2. For each file found, update:
   - `import { CraftAgentsSymbol }` -> `import { KataSymbol }`
   - `import { CraftAppIcon }` -> `import { KataAppIcon }`
   - `import { CraftAgentsLogo }` -> `import { KataLogo }` (if kept) or remove
   - `<CraftAgentsSymbol` -> `<KataSymbol`
   - `<CraftAppIcon` -> `<KataAppIcon`
   - `<CraftAgentsLogo` -> `<KataLogo` (if kept) or remove

3. Key files to update:
   - SplashScreen.tsx: Uses CraftAgentsSymbol for the loading screen
   - WelcomeStep.tsx: Onboarding welcome screen
   - CompletionStep.tsx: Onboarding completion
   - ReauthScreen.tsx: Re-authentication prompt
   - AppMenu.tsx: Application menu dropdown
   - PlaygroundApp.tsx: Component playground
   - registry/icons.tsx: Icon registry

4. Also update any "Craft Agents" text strings to "Kata Desktop" in these components.
  </action>
  <verify>
grep -r "CraftAgentsSymbol\|CraftAppIcon" apps/electron/src/renderer/ | grep -v ".tsx.bak" || echo "No old imports: OK"
bun run typecheck:all
# Should pass without import errors
  </verify>
  <done>
All renderer imports updated to use Kata* components, no CraftAgentsSymbol or CraftAppIcon references remain
  </done>
</task>

<task type="auto">
  <name>Task 3: Update branding.ts constants</name>
  <files>packages/shared/src/branding.ts</files>
  <action>
Update packages/shared/src/branding.ts:

Current content:
```typescript
export const CRAFT_LOGO = [
  '  ████████ █████████    ██████   ██████████ ██████████',
  // ... pixel art
] as const;

export const CRAFT_LOGO_HTML = CRAFT_LOGO.map((line) => line.trimEnd()).join('\n');

export const VIEWER_URL = 'https://agents.craft.do';
```

Replace with:
```typescript
/**
 * Centralized branding assets for Kata Desktop
 * Used by OAuth callback pages and branding displays
 */

/** Simple text logo for terminal/ASCII contexts */
export const KATA_LOGO = [
  '╦╔═╔═╗╔╦╗╔═╗',
  '╠╩╗╠═╣ ║ ╠═╣',
  '╩ ╩╩ ╩ ╩ ╩ ╩',
] as const;

/** Logo as a single string for HTML templates */
export const KATA_LOGO_HTML = KATA_LOGO.map((line) => line.trimEnd()).join('\n');

// Legacy exports for backward compatibility during migration
/** @deprecated Use KATA_LOGO */
export const CRAFT_LOGO = KATA_LOGO;
/** @deprecated Use KATA_LOGO_HTML */
export const CRAFT_LOGO_HTML = KATA_LOGO_HTML;

/** Session viewer base URL - placeholder until kata.sh viewer exists */
export const VIEWER_URL = '';  // Disabled until Kata infrastructure ready
```

Note: The VIEWER_URL is cleared because agents.craft.do won't work for Kata Desktop. This will be re-enabled when kata.sh viewer is available.
  </action>
  <verify>
grep "KATA_LOGO" packages/shared/src/branding.ts && echo "KATA branding: OK"
grep -c "craft.do" packages/shared/src/branding.ts | grep -q "0" && echo "No craft.do: OK"
  </verify>
  <done>
branding.ts exports KATA_LOGO constants and VIEWER_URL is cleared/disabled
  </done>
</task>

</tasks>

<verification>
After completing all tasks:

1. No Craft component references:
```bash
grep -r "CraftAgentsSymbol\|CraftAppIcon\|craft_logo_c" apps/electron/src/renderer/
# Should return no matches
```

2. Kata components exist:
```bash
ls apps/electron/src/renderer/components/icons/Kata*.tsx
# Should show KataSymbol.tsx and KataAppIcon.tsx
```

3. SVG asset exists:
```bash
ls apps/electron/src/renderer/assets/kata_mark.svg
# Should exist
```

4. Type check passes:
```bash
bun run typecheck:all
# No errors
```

5. Branding updated:
```bash
grep "KATA_LOGO" packages/shared/src/branding.ts
# Should show KATA_LOGO export
```
</verification>

<success_criteria>
1. `apps/electron/src/renderer/assets/kata_mark.svg` exists
2. `apps/electron/src/renderer/components/icons/KataSymbol.tsx` exports KataSymbol
3. `grep -r "CraftAgentsSymbol" apps/electron/src/renderer/` returns no matches
4. `grep -r "craft_logo_c" apps/electron/src/renderer/` returns no matches
5. `bun run typecheck:all` passes
6. `grep "KATA_LOGO" packages/shared/src/branding.ts` shows the export
</success_criteria>

<output>
After completion, create `.planning/phases/02-rebranding/02-03-SUMMARY.md`
</output>
