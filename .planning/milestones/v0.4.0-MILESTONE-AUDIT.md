---
milestone: v0.4.0
audited: 2026-01-30T00:15:00Z
status: gaps_found
scores:
  requirements: 9/10
  phases: 2/2
  integration: 12/12
  flows: 3/3
gaps:
  requirements:
    - id: BRAND-03
      description: "Remove craft.do domain references"
      reason: "package.json and mermaid/index.ts contain craft.do"
      files:
        - "apps/electron/package.json (lines 8, 11)"
        - "packages/mermaid/index.ts (lines 268-276, 1118-1559)"
  integration: []
  flows: []
tech_debt:
  - phase: 02-rebranding
    items:
      - "package.json author.email has support@craft.do (should be hello@kata.sh)"
      - "package.json homepage has agents.craft.do (should be GitHub repo URL)"
      - "mermaid demo page has craft.do meta tags and links (low priority, not shipped)"
---

# Kata Agents v0.4.0 — Milestone Audit

**Milestone:** v0.4.0 Foundation
**Goal:** Establish Kata Agents as an independent, compliant fork with proper CI/CD tooling and complete rebranding.
**Audited:** 2026-01-30
**Status:** gaps_found

## Executive Summary

Milestone v0.4.0 is **functionally complete** with strong cross-phase integration. The application launches with full Kata branding, CI/CD pipelines are operational, and the release workflow is ready. However, **one requirement (BRAND-03)** is blocked by residual craft.do references in package metadata and the mermaid demo page.

**Score:** 9/10 requirements satisfied (90%)

---

## Phase Verification Summary

| Phase | Name | Status | Score | Blockers |
|-------|------|--------|-------|----------|
| 1 | Setup and Tooling | ✓ PASSED | 9/9 | None |
| 2 | Rebranding | ⚠️ GAPS | 19/22 | BRAND-03 blocked |

### Phase 1: Setup and Tooling

**Status:** PASSED
**Score:** 9/9 must-haves verified (100%)

**Deliverables:**
- `.github/workflows/ci.yml` — PR validation (typecheck, lint, test, build)
- `.github/workflows/release.yml` — Multi-platform release builds
- `UPSTREAM.md` — Fork management documentation

**Requirements satisfied:**
- ✓ SETUP-01: CI validates builds on PR
- ✓ SETUP-02: CI runs test suite on PR
- ✓ SETUP-03: CI produces platform artifacts
- ✓ SETUP-04: Upstream management documented

### Phase 2: Rebranding

**Status:** GAPS FOUND
**Score:** 19/22 must-haves verified (86%)

**Deliverables:**
- electron-builder.yml with `sh.kata.desktop` bundle ID
- Application icons (icns, ico, png, svg)
- KataSymbol, KataAppIcon, KataLogo React components
- kata_mark.svg asset
- Version 0.4.0 across all package.json files

**Requirements:**
- ✓ BRAND-01: Remove "Craft" from product name
- ✓ BRAND-02: Update bundle ID to sh.kata.desktop
- ✗ BRAND-03: Remove craft.do references (BLOCKED)
- ✓ BRAND-04: Replace application icons
- ✓ BRAND-05: Replace in-app logos
- ✓ DIST-01: Configure GitHub releases

---

## Requirements Coverage

| Requirement | Phase | Status | Blocking Issue |
|-------------|-------|--------|----------------|
| SETUP-01 | 1 | ✓ SATISFIED | — |
| SETUP-02 | 1 | ✓ SATISFIED | — |
| SETUP-03 | 1 | ✓ SATISFIED | — |
| SETUP-04 | 1 | ✓ SATISFIED | — |
| BRAND-01 | 2 | ✓ SATISFIED | — |
| BRAND-02 | 2 | ✓ SATISFIED | — |
| BRAND-03 | 2 | ✗ BLOCKED | craft.do in package.json and mermaid |
| BRAND-04 | 2 | ✓ SATISFIED | — |
| BRAND-05 | 2 | ✓ SATISFIED | — |
| DIST-01 | 2 | ✓ SATISFIED | — |

**Total:** 9/10 satisfied

---

## Integration Check

**Status:** PASSED
**Score:** 12/12 exports connected

### Cross-Phase Wiring

| From | To | Status |
|------|----|--------|
| Phase 1 CI workflow | Phase 2 rebranded code | ✓ CONNECTED |
| Phase 1 release workflow | Phase 2 assets | ✓ CONNECTED |
| electron-builder.yml | icon.icns/ico/png | ✓ CONNECTED |
| KataSymbol.tsx | kata_mark.svg | ✓ CONNECTED |
| branding.ts KATA_LOGO | callback-page.ts | ✓ CONNECTED |

**Orphaned exports:** 0
**Missing connections:** 0
**Broken flows:** 0

### E2E Flow Verification

| Flow | Status | Evidence |
|------|--------|----------|
| PR → CI Validation → Build Artifact | ✓ COMPLETE | ci.yml triggers on PR, uploads DMG |
| Merge → Release → GitHub Release | ✓ COMPLETE | release.yml creates v0.4.0 with all platforms |
| App Launch → Kata Branding | ✓ COMPLETE | "Kata Agents" in title, menu, splash |

---

## Gaps Detail

### BRAND-03: craft.do Domain References

**Severity:** Medium
**Impact:** Trademark compliance incomplete
**Files affected:** 2

#### Gap 1: apps/electron/package.json

**Location:** Lines 8 and 11

```json
"author": {
  "email": "support@craft.do"  // Line 8
},
"homepage": "https://agents.craft.do"  // Line 11
```

**Fix required:**
- Change email to `hello@kata.sh` or remove
- Change homepage to `https://github.com/gannonh/kata-agents`

#### Gap 2: packages/mermaid/index.ts

**Location:** Lines 268-276, 1118-1122, 1146-1149, 1559

**Content:** Demo page generator contains OpenGraph meta tags and footer links pointing to craft.do

**Fix required:**
- Update meta tags to kata.sh or GitHub
- Update footer links to Kata branding
- OR disable demo page generation (it's a dev tool, not shipped)

**Note:** This gap does NOT affect the running application — the mermaid package is a development tool for generating diagram SVGs. End users never see these craft.do references.

---

## Tech Debt Summary

| Phase | Items | Priority |
|-------|-------|----------|
| 02-rebranding | 3 | Medium |

### Phase 2: Rebranding

1. **package.json author.email** — support@craft.do should be hello@kata.sh
2. **package.json homepage** — agents.craft.do should be GitHub repo URL
3. **mermaid demo page** — craft.do links/meta (low priority, not shipped to users)

---

## Success Criteria Achievement

### Milestone Definition of Done

| Criterion | Status | Evidence |
|-----------|--------|----------|
| CI/CD pipelines and build automation | ✓ ACHIEVED | ci.yml, release.yml operational |
| Upstream management strategy documented | ✓ ACHIEVED | UPSTREAM.md (121 lines) |
| Complete trademark compliance | ⚠️ PARTIAL | craft.do in 2 files |
| Kata branding (logos, icons, bundle ID) | ✓ ACHIEVED | All visual assets replaced |
| Domain and distribution infrastructure | ✓ ACHIEVED | GitHub releases configured |

**4/5 criteria fully achieved, 1 partial**

---

## Recommendation

The milestone is **functionally complete** for release purposes:

- The application displays "Kata Agents" branding everywhere users see it
- Bundle ID is correctly set to `sh.kata.desktop`
- All visual assets show Kata branding
- CI/CD is operational
- GitHub releases are configured

The remaining craft.do references are in:
1. Package metadata (not visible to users)
2. A dev-only demo page generator (not shipped)

**Options:**

**A. Fix gaps before completing** — Clean, fully compliant release
- Fix package.json metadata (2 lines)
- Update or disable mermaid demo page

**B. Complete milestone, track tech debt** — Ship faster, clean up later
- Accept that functional trademark compliance is met
- Track metadata cleanup as v0.4.1 or v0.5.0 work

---

*Audited: 2026-01-30T00:15:00Z*
*Auditor: Claude (kata milestone auditor)*
