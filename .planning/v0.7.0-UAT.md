---
milestone: 0.7.0
source:
  - .planning/phases/completed/10-foundation-types-and-permission-mode/*-SUMMARY.md
  - .planning/phases/completed/11-daemon-core-and-sqlite-queue/*-SUMMARY.md
  - .planning/phases/completed/12-channel-adapters/*-SUMMARY.md
  - .planning/phases/completed/13-plugin-lifecycle-and-task-scheduler/*-SUMMARY.md
  - .planning/phases/completed/14-ui-integration/*-SUMMARY.md
  - .planning/phases/completed/15-channel-credentials-and-session-attribution/*-SUMMARY.md
  - .planning/phases/completed/16-channel-creation-ui-and-config-delivery/*-SUMMARY.md
  - .planning/phases/completed/17-end-to-end-message-processing/*-SUMMARY.md
  - .planning/phases/completed/18-channel-fit-and-finish/*-SUMMARY.md
status: in_progress
scenarios:
  total: 10
  passed: 0
  failed: 0
---

# v0.7.0 UAT: Always-On Assistant

## Internal Verification Summary

- **Typecheck:** passed (all 4 packages clean)
- **Test suite:** 1476/1476 tests pass, 2548 expect() calls
- **Build:** succeeded

## User-Facing Deliverables

1. Daemon status indicator in header/toolbar
2. System tray icon with context menu (Show Window, Start/Stop Daemon, Quit)
3. App stays alive when window closed with daemon running
4. Settings > Channels page
5. Channel creation form (Slack/WhatsApp adapter selection)
6. Channel enable/disable toggles
7. Channel sessions with adapter badge in session list
8. Daemon start/stop controls

## Internal Deliverables (verified via tests)

- Foundation types (KataPlugin, ChannelAdapter, DaemonStatus/Command/Event)
- Daemon permission mode (allowlist-based, 20 unit tests)
- SQLite message queue (WAL mode, atomic dequeue, 10 tests)
- JSON-lines IPC protocol (8 tests)
- DaemonManager lifecycle (spawn, supervise, restart with backoff)
- PID management (stale cleanup)
- TriggerMatcher (regex patterns, case-insensitive)
- ChannelSessionResolver (SHA-256, deterministic)
- SlackChannelAdapter (poll, send, health, 267 test lines)
- WhatsAppChannelAdapter (Baileys, subscribe, 312 test lines)
- ChannelRunner (lifecycle, filtering, session resolution, 290 test lines)
- PluginManager (registry, enable/disable, 8 tests)
- TaskScheduler (cron/interval/one-shot, catch-up, 10 tests)
- Channel credential storage (AES-256-GCM encryption)
- Session channel attribution (JSONL persistence)
- Config delivery bridge (credential resolution, daemon delivery)
- E2E message processing pipeline (consumer loop, concurrency limit)
- Markdown-to-mrkdwn conversion
- Channel-aware system prompts
- Reset keyword detection
- Slash command support (Socket Mode)

## Scenarios

### Batch 1: Daemon UI and Lifecycle

| ID | Scenario | Status |
|----|----------|--------|
| S1 | Daemon status indicator visible | |
| S2 | Start daemon from settings | |
| S3 | System tray with context menu | |
| S4 | App stays in tray after window close | |

### Batch 2: Channel Management

| ID | Scenario | Status |
|----|----------|--------|
| S5 | Channels section in settings | |
| S6 | Create a Slack channel | |
| S7 | Channel enable/disable toggle | |

### Batch 3: Channel Sessions

| ID | Scenario | Status |
|----|----------|--------|
| S8 | Channel session badge in list | |
| S9 | Channel session loads | |
| S10 | Daemon indicator updates on state change | |
